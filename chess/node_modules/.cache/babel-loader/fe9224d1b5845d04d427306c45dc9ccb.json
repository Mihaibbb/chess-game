{"ast":null,"code":"import { cloneDeep } from \"lodash\";\nexport default function OnlineSocket(socket, newVirtualBoard, setNewVirtualBoard, currentMove, setCurrentMove) {\n  socket.on('send-piece', (oldIdx, newIdx, pieceCode) => {\n    const cloneVirtualBoard = cloneDeep(newVirtualBoard);\n    const serverOldX = parseInt(oldIdx / 8);\n    const serverOldY = oldIdx % 8;\n    cloneVirtualBoard[serverOldX][serverOldY] = 0;\n    const serverNewX = parseInt(newIdx / 8);\n    const serverNewY = newIdx % 8;\n    cloneVirtualBoard[serverNewX][serverNewY] = pieceCode;\n    localStorage.setItem(\"current-move\", -currentMove);\n    setCurrentMove(-currentMove);\n    localStorage.setItem(\"board\", JSON.stringify(cloneVirtualBoard));\n    setNewVirtualBoard(cloneVirtualBoard);\n  });\n}\n_c = OnlineSocket;\n\nvar _c;\n\n$RefreshReg$(_c, \"OnlineSocket\");","map":{"version":3,"sources":["A:/Js/Chess/chess-1.3/chess/src/Components/OnlineSocket.jsx"],"names":["cloneDeep","OnlineSocket","socket","newVirtualBoard","setNewVirtualBoard","currentMove","setCurrentMove","on","oldIdx","newIdx","pieceCode","cloneVirtualBoard","serverOldX","parseInt","serverOldY","serverNewX","serverNewY","localStorage","setItem","JSON","stringify"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B;AAEA,eAAe,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,eAA9B,EAA+CC,kBAA/C,EAAmEC,WAAnE,EAAgFC,cAAhF,EAAgG;AAC3GJ,EAAAA,MAAM,CAACK,EAAP,CAAU,YAAV,EAAwB,CAACC,MAAD,EAASC,MAAT,EAAiBC,SAAjB,KAA+B;AACnD,UAAMC,iBAAiB,GAAGX,SAAS,CAACG,eAAD,CAAnC;AACA,UAAMS,UAAU,GAAGC,QAAQ,CAACL,MAAM,GAAG,CAAV,CAA3B;AACA,UAAMM,UAAU,GAAGN,MAAM,GAAG,CAA5B;AACAG,IAAAA,iBAAiB,CAACC,UAAD,CAAjB,CAA8BE,UAA9B,IAA4C,CAA5C;AACA,UAAMC,UAAU,GAAGF,QAAQ,CAACJ,MAAM,GAAG,CAAV,CAA3B;AACA,UAAMO,UAAU,GAAGP,MAAM,GAAG,CAA5B;AACAE,IAAAA,iBAAiB,CAACI,UAAD,CAAjB,CAA8BC,UAA9B,IAA4CN,SAA5C;AAEAO,IAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqC,CAACb,WAAtC;AACAC,IAAAA,cAAc,CAAC,CAACD,WAAF,CAAd;AAEAY,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeT,iBAAf,CAA9B;AACAP,IAAAA,kBAAkB,CAACO,iBAAD,CAAlB;AAEH,GAfD;AAgBH;KAjBuBV,Y","sourcesContent":["import { cloneDeep } from \"lodash\";\r\n\r\nexport default function OnlineSocket(socket, newVirtualBoard, setNewVirtualBoard, currentMove, setCurrentMove) {\r\n    socket.on('send-piece', (oldIdx, newIdx, pieceCode) => {\r\n        const cloneVirtualBoard = cloneDeep(newVirtualBoard);\r\n        const serverOldX = parseInt(oldIdx / 8);\r\n        const serverOldY = oldIdx % 8;\r\n        cloneVirtualBoard[serverOldX][serverOldY] = 0;\r\n        const serverNewX = parseInt(newIdx / 8);\r\n        const serverNewY = newIdx % 8;\r\n        cloneVirtualBoard[serverNewX][serverNewY] = pieceCode;\r\n        \r\n        localStorage.setItem(\"current-move\", -currentMove);\r\n        setCurrentMove(-currentMove);\r\n\r\n        localStorage.setItem(\"board\", JSON.stringify(cloneVirtualBoard));\r\n        setNewVirtualBoard(cloneVirtualBoard);\r\n        \r\n    });\r\n}"]},"metadata":{},"sourceType":"module"}