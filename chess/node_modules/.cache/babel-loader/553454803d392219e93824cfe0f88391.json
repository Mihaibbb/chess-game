{"ast":null,"code":"import React from \"react\";\nimport io from \"socket.io-client\";\nexport default function OnlineSocket(socket, newVirtualBoard, setNewVirtualBoard, currentMove, setCurrentMove) {\n  socket.on('send-piece', (oldIdx, newIdx, pieceCode) => {\n    const cloneVirtualBoard = cloneDeep(newVirtualBoard);\n    const serverOldX = parseInt(oldIdx / 8);\n    const serverOldY = oldIdx % 8;\n    cloneVirtualBoard[serverOldX][serverOldY] = 0;\n    const serverNewX = parseInt(newIdx / 8);\n    const serverNewY = newIdx % 8;\n    cloneVirtualBoard[serverNewX][serverNewY] = pieceCode;\n    localStorage.setItem(\"current-move\", -currentMove);\n    setCurrentMove(-currentMove);\n    localStorage.setItem(\"board\", JSON.stringify(cloneVirtualBoard));\n    setNewVirtualBoard(cloneVirtualBoard);\n  });\n}\n_c = OnlineSocket;\n\nvar _c;\n\n$RefreshReg$(_c, \"OnlineSocket\");","map":{"version":3,"sources":["A:/Js/Chess/chess-1.3/chess/src/Components/OnlineSocket.jsx"],"names":["React","io","OnlineSocket","socket","newVirtualBoard","setNewVirtualBoard","currentMove","setCurrentMove","on","oldIdx","newIdx","pieceCode","cloneVirtualBoard","cloneDeep","serverOldX","parseInt","serverOldY","serverNewX","serverNewY","localStorage","setItem","JSON","stringify"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,eAAe,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,eAA9B,EAA+CC,kBAA/C,EAAmEC,WAAnE,EAAgFC,cAAhF,EAAgG;AAC3GJ,EAAAA,MAAM,CAACK,EAAP,CAAU,YAAV,EAAwB,CAACC,MAAD,EAASC,MAAT,EAAiBC,SAAjB,KAA+B;AACnD,UAAMC,iBAAiB,GAAGC,SAAS,CAACT,eAAD,CAAnC;AACA,UAAMU,UAAU,GAAGC,QAAQ,CAACN,MAAM,GAAG,CAAV,CAA3B;AACA,UAAMO,UAAU,GAAGP,MAAM,GAAG,CAA5B;AACAG,IAAAA,iBAAiB,CAACE,UAAD,CAAjB,CAA8BE,UAA9B,IAA4C,CAA5C;AACA,UAAMC,UAAU,GAAGF,QAAQ,CAACL,MAAM,GAAG,CAAV,CAA3B;AACA,UAAMQ,UAAU,GAAGR,MAAM,GAAG,CAA5B;AACAE,IAAAA,iBAAiB,CAACK,UAAD,CAAjB,CAA8BC,UAA9B,IAA4CP,SAA5C;AAEAQ,IAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqC,CAACd,WAAtC;AACAC,IAAAA,cAAc,CAAC,CAACD,WAAF,CAAd;AAEAa,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeV,iBAAf,CAA9B;AACAP,IAAAA,kBAAkB,CAACO,iBAAD,CAAlB;AAEH,GAfD;AAgBH;KAjBuBV,Y","sourcesContent":["import React from \"react\";\r\nimport io from \"socket.io-client\";\r\n\r\nexport default function OnlineSocket(socket, newVirtualBoard, setNewVirtualBoard, currentMove, setCurrentMove) {\r\n    socket.on('send-piece', (oldIdx, newIdx, pieceCode) => {\r\n        const cloneVirtualBoard = cloneDeep(newVirtualBoard);\r\n        const serverOldX = parseInt(oldIdx / 8);\r\n        const serverOldY = oldIdx % 8;\r\n        cloneVirtualBoard[serverOldX][serverOldY] = 0;\r\n        const serverNewX = parseInt(newIdx / 8);\r\n        const serverNewY = newIdx % 8;\r\n        cloneVirtualBoard[serverNewX][serverNewY] = pieceCode;\r\n        \r\n        localStorage.setItem(\"current-move\", -currentMove);\r\n        setCurrentMove(-currentMove);\r\n\r\n        localStorage.setItem(\"board\", JSON.stringify(cloneVirtualBoard));\r\n        setNewVirtualBoard(cloneVirtualBoard);\r\n        \r\n    });\r\n}"]},"metadata":{},"sourceType":"module"}